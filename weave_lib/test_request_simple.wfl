// Simple test for request variables
display "Testing request variable access..."

listen on port 3004 as test_server
display "Server listening on port 3004"

wait for request comes in on test_server as req

display "✅ Request received!"

// Test if these variables are auto-defined as globals
display "  Method: " with method
display "  Path: " with path
display "  Client IP: " with client_ip

// Build and send response
store response_text as "Hello! You sent a " with method with " request to " with path
respond to req with response_text

display "✅ Test complete!"
