// Arity Bug Test - WFL
// This test should expose the typechecker arity bug where multi-argument
// builtin functions incorrectly default to expecting 1 argument

display "=== WFL Builtin Function Arity Bug Test ==="
display ""

// Test 0-argument functions (should accept 0 args)
display "Testing 0-argument functions:"
store rand_val as random
display "Random value: " with rand_val

// Test 2-argument functions that currently fail with arity errors
display ""
display "Testing 2-argument functions:"

// Text functions with 2 arguments
store sample_text as "Hello World"
store search_text as "World"
store contains_result as contains of sample_text and search_text
display "Contains test: " with contains_result

// List functions with 2 arguments  
store my_list as [1 and 2 and 3]
push of my_list and 4
display "List after push: " with my_list

store list_contains as contains of my_list and 2
display "List contains 2: " with list_contains

store index_result as indexof of my_list and 3
display "Index of 3: " with index_result

// Math functions with 2+ arguments (not implemented yet, but should be recognized)
// These will fail both due to arity bug AND because functions aren't implemented
// But the arity error should come first

// Note: min and max are not implemented yet, so these would fail anyway
// But we want to test the arity checking specifically
// store min_result as min of 5 and 3
// store max_result as max of 5 and 3  
// store power_result as power of 2 and 3

display ""
display "Test completed successfully!"
display "If you see this message, the arity bug has been fixed!"