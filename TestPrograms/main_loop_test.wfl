// Test program demonstrating the main loop feature
// Main loop overrides the timeout timer, allowing long-running programs

// Initialize counter
store counter as 0
store running as true

display "Starting main loop demonstration..."
display "This loop runs indefinitely without timeout"
display "Press Ctrl+C to stop or it will exit after 10 iterations"

// Main loop - runs without timeout restrictions
main loop:
    // Increment counter
    store counter as counter plus 1
    
    // Display current count
    display "Iteration: " with counter
    
    // Check exit condition
    check if counter is greater than 9:
        display "Reached 10 iterations, exiting main loop..."
        break
    end check
    
    // Simulate some work (in a real app, this could be processing events, 
    // handling requests, updating game state, etc.)
    // Note: WFL doesn't have a built-in sleep function yet
    
end loop

display "Main loop completed after " with counter with " iterations"
display "Program finished successfully"